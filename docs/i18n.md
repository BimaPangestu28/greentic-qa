# i18n (PR-QA-01 scope)

## Goal
Add localization support without breaking existing specs or default output behavior.

## Constraints
- Backward compatibility is mandatory.
- Legacy specs with plain string titles/descriptions must continue to work unchanged.
- No locale-dependent behavior change unless i18n fields/config are explicitly provided.

## Planned model
- Add additive i18n display fields (parallel to existing raw strings).
- Resolve localized strings before rendering.
- Fallback order:
1. Requested locale
2. Form default locale (if present)
3. Raw string fallback

## Current implementation notes
- Additive fields:
  - `QuestionSpec.title_i18n`
  - `QuestionSpec.description_i18n`
  - `FormPresentation.default_locale`
- Resolver input:
  - `ctx.i18n_resolved` map (key -> localized string)
  - locale-aware keys are supported as `locale:key` (or `locale/key`)
  - plain `key` remains supported for compatibility
- Runtime locale:
  - read from `ctx.locale` when provided
  - otherwise fallback to `presentation.default_locale`
  - then raw string fields

## Transport policy
- Keep current WIT stable in PR-QA-01 unless required.
- Stage larger cross-boundary i18n transport changes in follow-up PR.
